<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">

<dom-module id="clan-clash">
  <template>
    <custom-style>
      <style is="custom-style">
        paper-card.white {
          --paper-card-header-color: #fff;
        }
        aside {
          display: flex;
          justify-content: flex-end;
          margin-top: -6em;
        }

        .card-content {
          display: flex;
        }

        .content-text {
          width: 70%;
        }

        img{
          height: 7rem;
        }
      </style>
      <custom-style>

        <paper-card heading="Top western road trips" image="https://s3-eu-west-1.amazonaws.com/arenagg/competition_image/0001/01/thumb_197_competition_image_normal.jpeg" class="white">
          <div class="card-content">
            <div class="content-text">
              {{ObjClan.description}}
              <p>Acces: {{ObjClan.type}}</p>
            </div>

            <aside>
                <img class="clash-clan-img" src="{{ObjClan.badge.image}}" alt="">
            </aside>
          </div>
          <div class="card-actions">
            <paper-button>Members</paper-button>
          </div>
        </paper-card>

        <iron-ajax auto url="https://api.royaleapi.com/clan/2CCCP" headers='{"auth":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMzOCwiaWRlbiI6IjQ3MzUxNzAxOTY2NTI2ODczNiIsIm1kIjp7InVzZXJuYW1lIjoiY2FybHNrZSIsImtleVZlcnNpb24iOjMsImRpc2NyaW1pbmF0b3IiOiI2Njc2In0sInRzIjoxNTMzMDUxMzM2MjY0fQ.aAnejYInj7GyFqn8Ao3RMkO-do1agvSwSdguLWbjwyQ"}'
          handle-as="json" on-response="_handleResponse">
        </iron-ajax>

  </template>

  <script>
    /**
     * `clash-royale-webapp`
     * 
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class ClanClash extends Polymer.Element {
      static get is() { return 'clan-clash'; }

      static get properties() {
        return {
          prop1: {
            type: String,
            value: 'clash-royale-webapp',
          },
          ObjClan:{
            type: Object
          }
        };
      }

      _handleResponse(event, request) {
        this.ObjClan = request.response
        console.log(this.ObjClan)
      }
    }

    window.customElements.define(ClanClash.is, ClanClash);
  </script>
</dom-module>