<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">

<dom-module id="clan-clash">
  <template>
    <custom-style>
      <style is="custom-style">
        paper-card{
          width: 30rem;
        }
      </style>
    <custom-style>


        <paper-card heading="{{ObjClan.badge.name}}" image="http://placehold.it/350x150/FFC107/000000" alt="Emmental">
          <div class="card-content">
              {{ObjClan.description}}
              <p>Acces: {{ObjClan.type}}</p>

              <img class="clash-clan-img" src="{{ObjClan.badge.image}}" alt="">
          </div>
          <div class="card-actions">
            <paper-button>Members <b> {{ObjClan.memberCount}}</b></paper-button>
          </div>
        </paper-card>

        <iron-ajax auto url="https://api.royaleapi.com/clan/2CCCP" headers='{"auth":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTMzOCwiaWRlbiI6IjQ3MzUxNzAxOTY2NTI2ODczNiIsIm1kIjp7InVzZXJuYW1lIjoiY2FybHNrZSIsImtleVZlcnNpb24iOjMsImRpc2NyaW1pbmF0b3IiOiI2Njc2In0sInRzIjoxNTMzMDUxMzM2MjY0fQ.aAnejYInj7GyFqn8Ao3RMkO-do1agvSwSdguLWbjwyQ"}'
          handle-as="json" on-response="_handleResponse">
        </iron-ajax>

  </template>

  <script>
    /**
     * `clash-royale-webapp`
     * 
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class ClanClash extends Polymer.Element {
      static get is() { return 'clan-clash'; }

      static get properties() {
        return {
          prop1: {
            type: String,
            value: 'clash-royale-webapp',
          },
          ObjClan:{
            type: Object
          }
        };
      }

      _handleResponse(event, request) {
        this.ObjClan = request.response
        console.log(this.ObjClan)
      }
    }

    window.customElements.define(ClanClash.is, ClanClash);
  </script>
</dom-module>